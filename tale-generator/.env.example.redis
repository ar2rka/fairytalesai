# Redis Cache Configuration Example
# Copy these settings to your .env file to enable Redis caching

# ============================================================================
# REDIS CONNECTION SETTINGS
# ============================================================================

# Redis connection URL
# Format: redis://[password@]host:port/database
# For local development (no password):
REDIS_URL=redis://localhost:6379/0

# For production with password:
# REDIS_URL=redis://:yourpassword@your-redis-host:6379/0

# For TLS/SSL connections (production):
# REDIS_URL=rediss://your-redis-host:6380/0

# Redis password (optional)
# Leave empty if Redis doesn't require authentication
REDIS_PASSWORD=

# Redis database number (0-15)
# Use different databases for dev/test/prod
REDIS_DB=0

# ============================================================================
# REDIS CONNECTION POOL SETTINGS
# ============================================================================

# Maximum number of connections in the pool
# Increase for high-traffic applications
REDIS_MAX_CONNECTIONS=10

# Socket timeout in seconds
# How long to wait for Redis operations
REDIS_SOCKET_TIMEOUT=5

# ============================================================================
# CACHE ENABLE/DISABLE
# ============================================================================

# Global flag to enable/disable caching
# Set to false to disable caching without removing Redis
REDIS_ENABLED=true

# ============================================================================
# CACHE TTL (Time-To-Live) SETTINGS
# ============================================================================

# Default TTL for cached entries (in seconds)
# Used when no specific TTL is provided
CACHE_DEFAULT_TTL=3600

# TTL for Hero entities (in seconds)
# Heroes rarely change, so longer TTL is appropriate
# 3600 = 1 hour
CACHE_HERO_TTL=3600

# TTL for Child entities (in seconds)
# Children are updated moderately
# 1800 = 30 minutes
CACHE_CHILD_TTL=1800

# TTL for Story entities (in seconds)
# Stories are frequently updated with ratings
# 600 = 10 minutes
CACHE_STORY_TTL=600

# ============================================================================
# ENVIRONMENT-SPECIFIC CONFIGURATIONS
# ============================================================================

# Development (local)
# REDIS_URL=redis://localhost:6379/0
# REDIS_ENABLED=true
# CACHE_HERO_TTL=3600

# Testing (use different database to avoid conflicts)
# REDIS_URL=redis://localhost:6379/1
# REDIS_ENABLED=true
# CACHE_HERO_TTL=60

# Production
# REDIS_URL=rediss://your-redis-host:6380/0
# REDIS_PASSWORD=your-secure-password
# REDIS_ENABLED=true
# REDIS_MAX_CONNECTIONS=50
# CACHE_HERO_TTL=7200

# ============================================================================
# QUICK START
# ============================================================================

# 1. Start Redis locally:
#    docker run -d -p 6379:6379 redis:latest

# 2. Copy this file to .env and uncomment the settings you need

# 3. Test Redis connection:
#    redis-cli ping
#    (should return PONG)

# 4. Run the example:
#    uv run python example_redis_cache.py

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# If caching isn't working:
# - Ensure Redis is running: docker ps | grep redis
# - Check REDIS_ENABLED=true
# - Verify REDIS_URL is correct
# - Test connection: redis-cli ping
# - Check application logs for cache errors

# If Redis is consuming too much memory:
# - Reduce TTL values (shorter cache lifetime)
# - Configure Redis maxmemory: docker run -d -p 6379:6379 redis:latest redis-server --maxmemory 500mb
# - Set eviction policy: redis-server --maxmemory-policy allkeys-lru
